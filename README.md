# Joyproxy2

## Что это?

Своего рода API, делающий запросы в img#.reactor.cc. Вторая инкарнация, на сей
раз на гошке.

## Зачем это нужно?

Сайт reactor.cc не даёт возможности постить на внешние ресурсы ссылки без
указания правильного referer-а. :)

Эта прокся призвана частично решить эту проблему через создание линков вида

`https://сайт/joyproxy/img1.reactor.cc/pics/post/mp4/видосик.mp4`

Сгенерировать ссылку можно запостив урл с видосиком в форму на страничке

`https://сайт/joyurl`

## Как это работает?

При обращении к сгенерённому урлу, апи идёт на целевой сайт, делает запрос,
а ответ стримит клиенту.

## Как это запустить?

Предполагается сборка гошкой версии 1.18.x и скорее всего возможна сборка
более новыми версиями.

Команда make сгенерирует в текущем каталоге бинарник joyproxy, тут же рядом
есть joyproxy_sample.ini, который следует скопировать в joyproxy.ini и
исправить для своего случая.

После этого сервис можно запускать.

Joyproxy2 работает как foreground-приложение и возможен его запуск из-под
супервизора systemd, daemon-tools, runit, openrc, supervisord итп, которые
умеют работать с foreground-приложениями как с сервисами. Если init хочет
именно домонизированный сервис, то можно воспользоваться утилитой [daemonize](https://github.com/bmc/daemonize).

## Кому сказать спасибо?

Авторам, редакторам и тем, кто поддерживает `reactor.cc`
